<!DOCTYPE html>
<html lang="en">
<html lang="ko">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>I be, Eye be</title>
<!--

Template 2097 Pop

http://www.tooplate.com/view/2097-pop

-->
    <!-- load CSS -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300">  <!-- Google web font "Open Sans" -->
    <link rel="stylesheet" href="css/bootstrap.min.css">                                  <!-- https://getbootstrap.com/ -->
    <link rel="stylesheet" href="fontawesome/css/fontawesome-all.min.css">                <!-- https://fontawesome.com/ -->
    <link rel="stylesheet" type="text/css" href="slick/slick.css"/>                       <!-- http://kenwheeler.github.io/slick/ -->
    <link rel="stylesheet" type="text/css" href="slick/slick-theme.css"/>
    <link rel="stylesheet" href="css/tooplate-style.css">                               <!-- Templatemo style -->

    <script>document.documentElement.className="js";var supportsCssVars=function(){var e,t=document.createElement("style");return t.innerHTML="root: { --tmp-var: bold; }",document.head.appendChild(t),e=!!(window.CSS&&window.CSS.supports&&window.CSS.supports("font-weight","var(--tmp-var)")),t.parentNode.removeChild(t),e};supportsCssVars()||alert("Please view this in a modern browser such as latest version of Chrome or Microsoft Edge.");</script>
    
</head>

<body>
    <div id="tm-bg"></div>
    <div id="tm-wrap">
        <div class="tm-main-content">
            <div class="container tm-site-header-container">
                <div class="row">
                    <div class="col-sm-12 col-md-6 col-lg-6 col-md-col-xl-6 mb-md-0 mb-sm-4 mb-4 tm-site-header-col">
                        <div class="tm-site-header">
                            <h1 class="mb-4">I Be, Eye Be</h1>
                            <img src="img/underline.png" class="img-fluid mb-4">
                            <p>for the Blind</p>   
                            <p> - Freshness</p>
                            <p> - Expiration date
                            </p>        
                        </div>                        
                    </div>
                    <div class="col-sm-12 col-md-6 col-lg-6 col-xl-6">
                        <div class="content">
                            <div class="grid">
                                <div class="grid__item" id="home-link">
                                    <div class="product">
                                        <div class="tm-nav-link">
                                            <img src="img/KakaoTalk_20210514_170715840_02.png">
                                            
                                            <span class="tm-nav-text">신선도</span>
                                            <div class="product__bg"></div>        
                                        </div>                                    
                                        <div class="product__description">
                                            <div class="row mb-3">
                                                <div class="col-12">
                                                    <section class="section">
                                                        <h1 class="title">과일 채소의 신선도 체크</h1>
                                                        <h2 class="subtitle">아 너무 졸리다. 이 앱은 언제쯤 개발 될까...</h2>
                                                    </section>
                                            
                                                    <script
                                                        class="jsbin"
                                                        src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"
                                                    ></script>
                                                    <div class="container file-upload">
                                                        <div class="image-upload-wrap">
                                                            <input
                                                                class="file-upload-input"
                                                                type="file"
                                                                onchange="readURL(this);"
                                                                accept="image/*"
                                                            />
                                                            <div class="drag-text">
                                                                <!-- 이미지파일 <img src=-->
                                                                <h3 class="upload-text">사과사진 그만....</h3>
                                                            </div>
                                                        </div>
                                                        <div class="file-upload-content">
                                                            <img class="file-upload-image" id="apple-image" src="#" alt="your image" />
                                                            <p class="result-message"></p>
                                                            <div id="label-container"></div>
                                                            <div class="image-title-wrap">
                                                                <button type="container button" onclick="removeUpload()" class="remove-image">
                                                                    Remove <span class="image-title">Uploaded Image</span>
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div id="webcam-container"></div>
                                                    <div id="disqus_thread"></div>
                                                    <script>
                                                        /**
                                                         *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
                                                         *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
                                                        /*
                                                var disqus_config = function () {
                                                this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
                                                this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
                                                };
                                                */
                                                        (function () {
                                                            // DON'T EDIT BELOW THIS LINE
                                                            var d = document,
                                                                s = d.createElement('script');
                                                            s.src = 'https://eyebe-i-be.disqus.com/embed.js';
                                                            s.setAttribute('data-timestamp', +new Date());
                                                            (d.head || d.body).appendChild(s);
                                                        })();
                                                    </script>
                                                    <noscript
                                                        >Please enable JavaScript to view the
                                                        <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript
                                                    >
                                                    <!-- Optional JavaScript; choose one of the two! -->
                                            
                                                    <!-- Option 1: Bootstrap Bundle with Popper -->
                                                    <script
                                                        src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
                                                        integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
                                                        crossorigin="anonymous"
                                                    ></script>
                                            
                                                    <!-- Option 2: Separate Popper and Bootstrap JS -->
                                                    <script
                                                        src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"
                                                        integrity="sha384-SR1sx49pcuLnqZUnnPwx6FCym0wLsk5JZuNx2bPPENzswTNFaQU1RDvt3wT4gWFG"
                                                        crossorigin="anonymous"
                                                    ></script>
                                                    <script
                                                        src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.min.js"
                                                        integrity="sha384-j0CNLUeiqtyaRmlzUHCPZ+Gy5fQu0dQ6eZ/xAww941Ai1SxSY+0EQqNXNE6DZiVc"
                                                        crossorigin="anonymous"
                                                    ></script>
                                                    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
                                                    <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>
                                                    <script>
                                                        function readURL(input) {
                                                            if (input.files && input.files[0]) {
                                                                var reader = new FileReader();
                                            
                                                                reader.onload = function (e) {
                                                                    $('.image-upload-wrap').hide();
                                            
                                                                    $('.file-upload-image').attr('src', e.target.result);
                                                                    $('.file-upload-content').show();
                                            
                                                                    $('.image-title').html(input.files[0].name);
                                                                };
                                            
                                                                reader.readAsDataURL(input.files[0]);
                                                                init().then(function () {
                                                                    console.log('hello');
                                                                    predict();
                                                                    $('#loading').hide();
                                                                });
                                                            } else {
                                                                removeUpload();
                                                            }
                                                        }
                                            
                                                        function removeUpload() {
                                                            $('.file-upload-input').replaceWith($('.file-upload-input').clone());
                                                            $('.file-upload-content').hide();
                                                            $('.image-upload-wrap').show();
                                                        }
                                                        $('.image-upload-wrap').bind('dragover', function () {
                                                            $('.image-upload-wrap').addClass('image-dropping');
                                                        });
                                                        $('.image-upload-wrap').bind('dragleave', function () {
                                                            $('.image-upload-wrap').removeClass('image-dropping');
                                                        });
                                                    </script>
                                                    <script type="text/javascript">
                                                        // More API functions here:
                                                        // https://github.com/googlecreativelab/teachablemachine-community/tree/master/libraries/image
                                            
                                                        // 티쳐블머신 링크
                                                        const URL = 'https://teachablemachine.withgoogle.com/models/RBiFV9_Tk/';
                                            
                                                        let model, webcam, labelContainer, maxPredictions;
                                            
                                                        // Load the image model and setup the webcam
                                                        async function init() {
                                                            const modelURL = URL + 'model.json';
                                                            const metadataURL = URL + 'metadata.json';
                                            
                                                            // load the model and metadata
                                                            // Refer to tmImage.loadFromFiles() in the API to support files from a file picker
                                                            // or files from your local hard drive
                                                            // Note: the pose library adds "tmImage" object to your window (window.tmImage)
                                                            model = await tmImage.load(modelURL, metadataURL);
                                                            maxPredictions = model.getTotalClasses();
                                                            labelContainer = document.getElementById('label-container');
                                                            for (let i = 0; i < maxPredictions; i++) {
                                                                // and class labels
                                                                labelContainer.appendChild(document.createElement('div'));
                                                            }
                                                        }
                                                        // run the webcam image through the image model
                                                        async function predict() {
                                                            // predict can take in an image, video or canvas html element
                                                            var image = document.getElementById('apple-image');
                                                            const prediction = await model.predict(image, false);
                                                            prediction.sort((a, b) => parseFloat(b.probability) - parseFloat(a.probability));
                                                            console.log(prediction[0].className);
                                                            var resultTitle, resultExplain;
                                                            switch (prediction[0].className) {
                                                                case 'color_goodX':
                                                                    resultTitle = '사과입니다.';
                                                                    resultExplain = '흠집없고 색깔좋음';
                                                                    break;
                                                                case 'color_goodO':
                                                                    resultTitle = '사과입니다.';
                                                                    resultExplain = '흠집있고 색깔좋음';
                                                                    break;
                                                                case 'color_badX':
                                                                    resultTitle = '사과입니다.';
                                                                    resultExplain = '흠집없고 색깔안좋음';
                                                                    break;
                                                                case 'color_badO':
                                                                    resultTitle = '사과입니다.';
                                                                    resultExplain = '흠집있고 색깔안좋음';
                                                                    break;
                                                                default:
                                                                    resultTitle = '알 수 없어요 ㅠㅠ';
                                                            }
                                                            var title =
                                                                "<div class='" +
                                                                prediction[0].className +
                                                                "-apple-title'>" +
                                                                resultTitle +
                                                                '</div>';
                                                            var explain = "<div class='apple-explain pt-2'>" + resultExplain + '</div>';
                                                            $('.result-message').html(title + explain);
                                                            var barWidth;
                                                            for (let i = 0; i < maxPredictions; i++) {
                                                                if (prediction[i].probability.toFixed(2) > 0.1) {
                                                                    barWidth = Math.round(prediction[i].probability.toFixed(2) * 100) + '%';
                                                                } else if (prediction[i].probability.toFixed(2) >= 0.01) {
                                                                    barWidth = '4%';
                                                                } else {
                                                                    barWidth = '2%';
                                                                }
                                                                var label =
                                                                    "<div class='apple-label d-flex align-items-center'>" +
                                                                    labelTitle +
                                                                    '</div>';
                                                                var bar =
                                                                    "<div class='bar-container position-relative container'><div class='" +
                                                                    prediction[i].className +
                                                                    "-box'></div><div class='d-flex justify-content-center align-items-center " +
                                                                    prediction[i].className +
                                                                    "-bar' style='width: " +
                                                                    barWidth +
                                                                    "'><span class='d-block percent-text'>" +
                                                                    Math.round(prediction[i].probability.toFixed(2) * 100) +
                                                                    '%</span></div></div>';
                                                                labelContainer.childNodes[i].innerHTML = label + bar;
                                                            }
                                                        }
                                                    </script>
                                                </div>                                        
                                            </div>
                                            
                                        </div>
                                    </div>
                                </div>

                                <div class="grid__item" id="team-link">
                                    <div class="product">
                                        <div class="tm-nav-link">
                                            <img src="img/KakaoTalk_20210514_170715840_01.png">
                                            <span class="tm-nav-text">유통기한</span>
                                            <div class="product__bg"></div>            
                                        </div>                                     
                                        <div class="product__description">
                                            <div class="p-sm-4 p-2">
                                                <div class="row mb-3">
                                                    <div class="col-12">
                                                        <h2 class="tm-page-title">Background of Our Team</h2>        
                                                    </div>
                                                </div>
                                                <div class="row tm-reverse-sm">
                                                    <div class="col-sm-12 col-md-8 col-lg-8 col-xl-8">
                                                        <p class="mb-4">Vestibulum aliquet, arcu accumsan lobortis bibendum, justo velit efficitur lorem, at pulvinar mi justo nec lacus. Nullam et libero aliquet, luctus nunc sit amet, tincidunt ligula. Sed finibus ante sed tortor cursus, nec malesuada lectus interdum.</p>
                                                        <p class="mb-4">Sed ex turpis, vulputate in efficitur id, lobortis eget nibh. Pellentesque maximus ipsum eget velit imperdiet sodales. Suspendisse in blandit mi.</p>
                                                        <p class="mb-5">Pellentesque finibus felis risus, ut malesuada felis viverra at. Quisque accumsan in mi non hendrerit.</p>
                                                        <a href="#" class="btn tm-btn-gray">Read More</a>        
                                                    </div>                                                
                                                    <div class="col-sm-12 col-md-4 col-lg-4 col-xl-4 mb-lg-0 mb-sm-4 mb-4">
                                                        <img src="img/team.jpg" class="img-fluid">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                

                            </div> 
                        </div>                       
                    </div>
                </div>                
            </div>
            <footer>
                <p class="small tm-copyright-text">Copyright &copy; <span class="tm-current-year">2021</span> 캡스톤디자인A. 
                
                Layout: EYE BE</p>
            </footer>
        </div> <!-- .tm-main-content -->  
    </div>
    <!-- load JS -->
    <script src="js/jquery-3.2.1.slim.min.js"></script>         <!-- https://jquery.com/ -->    
    <script src="slick/slick.min.js"></script>                  <!-- http://kenwheeler.github.io/slick/ -->  
    <script src="js/anime.min.js"></script>                     <!-- http://animejs.com/ -->
    <script src="js/main.js"></script>  
    <script>      

        function setupFooter() {
            var pageHeight = $('.tm-site-header-container').height() + $('footer').height() + 100;

            var main = $('.tm-main-content');

            if($(window).height() < pageHeight) {
                main.addClass('tm-footer-relative');
            }
            else {
                main.removeClass('tm-footer-relative');   
            }
        }

        /* DOM is ready
        ------------------------------------------------*/
        $(function(){

            setupFooter();

            $(window).resize(function(){
                setupFooter();
            });

            $('.tm-current-year').text(new Date().getFullYear());  // Update year in copyright           
        });

    </script>             

</body>
</html>